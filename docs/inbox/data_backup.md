#  数据备份

inBox 是一个本地笔记软件，所有数据默认均存储在本地数据库，该数据库存储在 Andoid 文件沙盒，只有 inBox 可以访问，其他 APP 均访问不到（Root手机除外）。

## 草稿机制
对于笔记，每一个输入的文字都是大家的心血，为了让文字输入更安全可靠，inBox 提供了本地草稿机制，防止出现因为关机、闪退等问题造成文字丢失的问题。

所以在你不断写下文字的过程中，inBox 会在后面默默的帮你保存正在编辑的笔记，确保当你意外退出应用时，下次打开应用可以继续编辑上次没有编辑完成的笔记，该笔记会作为 json 文件存储在软件的文件沙盒中，每次打开应用后，会检查是否存在上次的草稿文件，只要存在就回立刻恢复。

当你选择发送笔记时，inBox 会删除该备份笔记。

以上是对于新建笔记的场景做的草稿机制，在编辑笔记时，同样也有草稿机制，确保在编辑时完整保存你的输入，当意外退出时，下次再次打开该笔记进行编辑是，inBox 就会提醒你是否恢复，当编辑完成该草稿会被删除掉。

## 本地备份
每次创建一个新的笔记，inBox 都会自动打包所有的笔记到一个文件中，并对数据进行加密，然后存储在本地文件夹下，目录为：Document/inBox/Backups/Auto，这样做的目的是防止应用被意外卸载后，数据丢失。

因为默认数据都存储在 APP 的文件沙盒中，该文件会随着 APP 卸载被删除，所以这里通过该机制，将数据外置备份至外部磁盘，防止笔记数据丢失，同时为了防止明文数据泄露，这里对数据进行了 AES 加密。

当下次重新安全 inBox 笔记软件时，inBox 会自动检查备份文件夹，并提示用户进行数据备份。


## 云备份
上述措施已经尽可能的做到了数据安全，但是数据只要在手机上，就还有可能丢失，比如手机突然坏了，丢了，这时数据是无法找回的，如果数据此时在云端，就可以避免这个问题，这也是云端笔记的好处，云端笔记只要登录账号，笔记数据就可以回来，inBox 没有自己笔记存储云中心，为了解决这个问题，inBox 使用了行业内比较成熟的方案：WebDAV。

详细了解 inBox WebDAV [云备份](data_webdav.md)